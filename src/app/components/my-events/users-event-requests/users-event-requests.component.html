
@if(eventRequests.length) {
  <div class="container content">

    <div class="flex justify-content-between align-items-center">
      <h2 class="">{{ 'myEventPageComponent.guest.your-event-requests' | transloco }}</h2>
      <span class="color-secondary">
      {{ eventRequests.length }}
    </span>
    </div>
    @for (r of this.eventRequests; track r) {
      <p-card
        class="p-3 cursor-pointer"
        [routerLink]="['/event/' + r.event.id]">
        <div class="flex align-items-center pr-3">
          <img
            src="https://via.placeholder.com/100"
            alt="{{ r.event.title }}-picture"
            class=""
            style="width: 70px; height: 70px" />
          <div class="flex flex-column ml-3 flex-grow-1">
            <div>
              <h3 class="mt-0 mb-0">{{ r.event.title }}</h3>
              <div class="flex gap-1 align-items-center">
                <rmx-icon name="calendar-line" style="width: 16px; height: 16px;" class="mr-1"></rmx-icon>
                <p class="text-secondary mt-0 mb-0">{{ toDate(r.event.dateAndTime) | translocoDate: { dateStyle: 'short' } }}</p>
              </div>
            </div>
          </div>

          <div class="flex align-items-center gap-2">
            <p-button [raised]="true" (onClick)="deleteEventRequest(r.id, $event)">
              <ng-template pTemplate="icon">
                <rmx-icon
                  style="width: 16px; height: 16px"
                  name="close-line"></rmx-icon>
              </ng-template>
            </p-button>
            @if (r.denied) {
              <p-button [raised]="true" severity="success" (onClick)="createNewEventRequest(r.event.id, $event)">
                <span>{{ 'myEventPageComponent.requests.dismissed-try-again' }}?</span>
                <ng-template pTemplate="icon">
                  <rmx-icon
                    style="width: 16px; height: 16px"
                    name="close-line"></rmx-icon>
                </ng-template>
              </p-button>
            } @else {
              <p-button [raised]="true" disabled severity="success">
                <span>{{ 'myEventPageComponent.requests.pending' }}</span>
              </p-button>
            }
            <rmx-icon
              name="arrow-right-s-line"
              style="height: 26px; width: 26px"
              class="">
            </rmx-icon>
          </div>
        </div>
      </p-card>
    }
  </div>
}
